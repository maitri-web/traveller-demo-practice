theme.alinga=theme.alinga||{},theme.alinga.colorsamplefilter=()=>{$(".filter-product-wrapper .filter-product-item").click(function(){var currentProduct=$(this).attr("id"),selectedProductEle=$(this);$(".filter-product-wrapper .filter-product-item").removeClass("is-active"),$(this).toggleClass("is-active"),$(".collection-sample-products .product-wrapper").hide(),$(".collection-sample-products .product-wrapper."+currentProduct).show(),$(".filter-material-wrapper .filter-material-item,.filter-colour-wrapper .filter-colour-item").each(function(){selectedProductEle.hasClass($(this).attr("id"))?$(this).addClass("is-show"):($(this).removeClass("is-show"),$(this).removeClass("is-active"))})}),$(".filter-by-product .clear-product").click(function(){$(".filter-product-wrapper .filter-product-item").addClass("is-active"),$(".collection-sample-products .product-wrapper").show(),$(".filter-material-wrapper .filter-material-item,.filter-colour-wrapper .filter-colour-item").addClass("is-show")}),$(".filter-material-wrapper .filter-material-item").click(function(){var currentMaterial=$(this).attr("id");$(".filter-material-wrapper .filter-material-item").removeClass("is-active"),$(this).toggleClass("is-active"),$(".collection-sample-products .product-wrapper .variant-inner").hide();var currentColour;$(".filter-colour-wrapper .filter-colour-ite").each(function(){$(this).hasClass("is-active")&&(currentColour=$(this).attr("id"))}),currentColour?$(".collection-sample-products .product-wrapper .variant-inner."+currentColour+"."+currentMaterial).show():$(".collection-sample-products .product-wrapper .variant-inner."+currentMaterial).show()}),$(".filter-by-material .clear-material").click(function(){var currentColour;$(".filter-colour-wrapper .filter-colour-item").each(function(){$(this).hasClass("is-active")&&(currentColour=$(this).attr("id"))}),$(".filter-material-wrapper .filter-material-item").removeClass("is-active"),currentColour?($(".collection-sample-products .product-wrapper .variant-inner").hide(),$(".collection-sample-products .product-wrapper .variant-inner."+currentColour).show()):$(".collection-sample-products .product-wrapper .variant-inner").show()}),$(".filter-colour-wrapper .filter-colour-item").click(function(){var currentColour=$(this).attr("id");$(".filter-colour-wrapper .filter-colour-item").removeClass("is-active"),$(this).toggleClass("is-active"),$(".collection-sample-products .product-wrapper .variant-inner").hide();var currentMaterial;$(".filter-material-wrapper .filter-material-item").each(function(){$(this).hasClass("is-active")&&(currentMaterial=$(this).attr("id"))}),currentMaterial?$(".collection-sample-products .product-wrapper .variant-inner."+currentMaterial+"."+currentColour).show():$(".collection-sample-products .product-wrapper .variant-inner."+currentColour).show()}),$(".filter-by-colour .clear-colour").click(function(){var currentMaterial;$(".filter-material-wrapper .filter-material-item").each(function(){$(this).hasClass("is-active")&&(currentMaterial=$(this).attr("id"))}),$(".filter-colour-wrapper .filter-colour-item").removeClass("is-active"),currentMaterial?($(".collection-sample-products .product-wrapper .variant-inner").hide(),$(".collection-sample-products .product-wrapper .variant-inner."+currentMaterial).show()):$(".collection-sample-products .product-wrapper .variant-inner").show()})},theme.alinga.zoomimage=()=>{$(function(){var img=$(".zoom-varaint-image img"),imgshow=$("#imgshow"),bgpopup=$(".cc-popup-background"),overly=$("#over"),close=$("#close");img.on("click",function(){overly.show(),imgshow.attr("src",$(this).attr("src")),close.click(function(){overly.hide()}),bgpopup.click(function(){overly.hide()})})}),$(function(){var img=$(".collection-gallery-popup img"),imgshow=$("#imgshow"),bgpopup=$(".cc-popup-background"),overly=$("#over"),close=$("#close");img.on("click",function(){overly.show(),imgshow.attr("src",$(this).attr("src")),close.click(function(){overly.hide()}),bgpopup.click(function(){overly.hide()})})})},theme.alinga.parallaxeffect=()=>{$(window).scroll(function(){$(".parallax-image").each(function(){if($(this).offset().top<$(window).scrollTop()){var difference=$(window).scrollTop()-$(this).offset().top,half=difference/2+"px";$(this).find("img").css("top",half)}else $(this).find("img").css("top","0")})})},theme.alinga.removeFreeSample=()=>{document.querySelectorAll(".action-content-wrappper .action-wrapper .collectioncart").forEach(item=>{item.addEventListener("click",async function(evt){let freeSamplesCart=[...(await fetch("/cart.js").then(response=>response.json())).items];oldFreeSamplesCart=freeSamplesCart.map(item2=>({variant_id:item2.variant_id,product_type:item2.product_type}));for(var currentVariantId=$(this).attr("data-variant-id"),currentProductType=$(this).attr("data-product-type"),alreadyInCart=!1,FreeProductCount=0,i=0;i<oldFreeSamplesCart.length;i++)oldFreeSamplesCart[i].product_type==="Colour Sample"&&FreeProductCount++;if(FreeProductCount>28)$(".action-content-wrappper .action-wrapper .collectioncart").addClass("disable");else{for(var i=0;i<oldFreeSamplesCart.length;i++)oldFreeSamplesCart[i].variant_id===currentVariantId&&(alreadyInCart=!0);alreadyInCart||(!evt.detail||evt.detail===1)&&(addItem(currentVariantId,1,currentProductType),$(this).addClass("disable"))}})})},theme.alinga.windowOnLoad=()=>{window.addEventListener("load",event=>{let currentVariants=[];(()=>{$(".variant-wrapper .variant-inner").each(function(){currentVariants.push(parseInt($(this).attr("id")))})})();for(var i=0;i<window.themeCart.cart.items.length;i++)currentVariants.includes(window.themeCart.cart.items[i].variant_id)&&handleDOMVariants(window.themeCart.cart.items[i].variant_id);function handleDOMVariants(checkVariant){for(var FreeProductCount=0,i2=0;i2<window.oldFreeSamplesCart.length;i2++)window.oldFreeSamplesCart[i2].product_type==="Colour Sample"&&FreeProductCount++;FreeProductCount>29?(console.log("freeproductcount"),$(".variant-wrapper .variant-inner").each(function(){$(this).find(".action-content-wrappper .action-wrapper .collectioncart").addClass("disable")})):$(".variant-wrapper .variant-inner").each(function(){$(this).find(".action-content-wrappper .action-wrapper .collectioncart-"+checkVariant).addClass("disable")})}})},theme.alinga.removeClassCartDrawer=()=>{document.querySelectorAll("#Cart-Drawer .side-panel-content .remove").forEach(item=>{item.addEventListener("click",function(){var currentVariantId=$(this).attr("data-variant-id"),product_type=$(this).attr("data-product-type");const updatedRemoveData={variant_id:parseInt(currentVariantId,10),product_type};updateFreeSamplesCartOnRemove(updatedRemoveData);for(var FreeProductCount=0,i=0;i<window.oldFreeSamplesCart.length;i++)window.oldFreeSamplesCart[i].product_type=="Colour Sample"&&FreeProductCount++;if(FreeProductCount<28){let handleRemovedDOMVariants2=function(checkVariant){$(".variant-wrapper .variant-inner").each(function(){parseInt($(this).attr("id"))===checkVariant&&$(this).find(".action-content-wrappper .action-wrapper .collectioncart").addClass("disable")})};var handleRemovedDOMVariants=handleRemovedDOMVariants2;let freeSampleVariants=[];$(".action-content-wrappper .action-wrapper .collectioncart").removeClass("disable"),$(".variant-wrapper .variant-inner").each(function(){freeSampleVariants.push(parseInt($(this).attr("id")))});for(var i=0;i<window.oldFreeSamplesCart.length;i++)freeSampleVariants.includes(window.oldFreeSamplesCart[i].variant_id)&&handleRemovedDOMVariants2(window.oldFreeSamplesCart[i].variant_id)}function updateFreeSamplesCartOnRemove(data){let newFreeSamplesObject;return newFreeSamplesObject=window.oldFreeSamplesCart.filter(item2=>item2.variant_id!==data.variant_id),window.oldFreeSamplesCart=newFreeSamplesObject}})})},theme.alinga.cartDrawerATC=()=>{[...document.querySelectorAll("#Cart-Drawer .cart__remove--properties")].forEach(item=>{item.addEventListener("click",async function(evt){const currentUpi=item.getAttribute("data-cart-item-upi");evt.preventDefault();let cartDrawarItem=await fetch("/cart.js").then(response=>response.json()),isMultipleUpiLineItem=cartDrawarItem.items.some(item2=>item2.properties._upi===currentUpi),upiCount=cartDrawarItem.items.filter(item2=>item2.properties._upi===currentUpi).length+1;isMultipleUpiLineItem&&handleChangeLineItem(upiCount,currentUpi)})});async function handleChangeLineItem(upiCount,upi){if(upiCount=upiCount-1,upiCount>0){let targetLineItem=(await fetch("/cart.js").then(response=>response.json())).items.findIndex(item=>item.properties._upi===upi)+1;await changeLineItem(targetLineItem),await handleChangeLineItem(upiCount,upi)}else $.ajax({type:"GET",url:"/cart",dataType:"html",success:function(data){fetch("/cart.json").then(res=>res.json()).then(response=>{$(".cart-drawer__empty-cart").remove();var cartData=$(data).find(".side-panel-content").html();$(".side-panel-content").html(cartData);var cartAmount=$(data).find(".side-panel-footer").html();$(".side-panel-footer").html(cartAmount),$(".thb-item-count").html(response.item_count)})}})}async function changeLineItem(removeProductLineIndex){await fetch("/cart/change.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({line:removeProductLineIndex,quantity:0})}).then(response=>response.json()).catch(error=>{console.error("Error:",error)})}};function addItem(form_id){jQuery.ajax({type:"POST",url:"/cart/add.js",data:$("#"+form_id).serialize(),dataType:"json",success:function(result){fetch("/cart.js").then(res=>res.json()).then(result2=>{$(".thb-item-count").html(result2.item_count)}),$.ajax({type:"GET",url:"/cart",dataType:"html",success:function(data){fetch("/cart.json").then(res=>res.json()).then(response=>{$(".cart-drawer__empty-cart").remove();var cartData=$(data).find(".side-panel-content").html();$(".side-panel-content").html(cartData);var cartAmount=$(data).find(".side-panel-footer").html();$(".side-panel-footer").html(cartAmount),$("body").addClass("open-cc"),$("#Cart-Drawer").addClass("active")})}})}})}if(document.addEventListener("DOMContentLoaded",()=>{theme.alinga.colorsamplefilter(),theme.alinga.removeFreeSample(),theme.alinga.windowOnLoad(),theme.alinga.removeClassCartDrawer(),theme.alinga.zoomimage(),theme.alinga.parallaxeffect(),theme.alinga.cartDrawerATC()}),window.innerWidth>=768){const setRowHeight=$elements=>{let rows={};$elements.forEach(element=>{let rowIndex=Math.floor(element.offsetTop/element.offsetHeight);rows[rowIndex]||(rows[rowIndex]=[]),rows[rowIndex].push(element)}),Object.values(rows).forEach(row=>{let maxHeights={"pdp-grid-content":0,"pdp-grid-subheading":0,"pdp-dec-bullet":0};row.forEach(element=>{let elementsToMeasure={"pdp-grid-content":element.querySelector(".pdp-grid-content"),"pdp-grid-subheading":element.querySelector(".pdp-grid-subheading"),"pdp-dec-bullet":element.querySelector(".pdp-dec-bullet")};Object.keys(elementsToMeasure).forEach(key=>{elementsToMeasure[key]&&(maxHeights[key]=Math.max(maxHeights[key],elementsToMeasure[key].offsetHeight))})}),row.forEach(element=>{Object.keys(maxHeights).forEach(key=>{let elementToAdjust=element.querySelector(`.${key}`);elementToAdjust&&(elementToAdjust.style.height=`${maxHeights[key]}px`)})})})};document.addEventListener("DOMContentLoaded",event=>{let elements=document.querySelectorAll(".gallery__item");setRowHeight(elements)})}let playBgVideo=document.querySelectorAll(".first-video-metafield .video-lightbox-modal__button");playBgVideo.forEach(item=>{item.addEventListener("click",function(){item.closest(".install-background-video").classList.add("is-active");var vid=item.parentElement.nextSibling;vid.querySelector("p span .myVideo").play()})});let mainVideo=document.querySelector(".pdp-video-metafield .video-lightbox-modal__button");mainVideo&&mainVideo.addEventListener("click",function(){mainVideo.closest("video-metafield.first-background-video").classList.add("is-active");var mainvideo=mainVideo.parentElement.nextSibling;let pvideo=mainvideo.querySelector("p span .myVideo");pvideo&&pvideo.play()});let firstvideo=document.querySelector(".second-video-metafield .video-lightbox-modal__button");firstvideo&&firstvideo.addEventListener("click",function(){firstvideo.closest("video-metafield.second-background-video").classList.add("is-active");var firstVideo=firstvideo.parentElement.nextSibling;let fvideo=firstVideo.querySelector("p span .myVideo");fvideo&&fvideo.play()});let thirdVideo=document.querySelector(".third-video-metafield .video-lightbox-modal__button");thirdVideo&&thirdVideo.addEventListener("click",function(){thirdVideo.closest("video-metafield.third-background-video").classList.add("is-active");var thirdvideo=thirdVideo.parentElement.nextSibling;let tvideo=thirdvideo.querySelector("p span .myVideo");tvideo&&tvideo.play()}),$(document).ready(function(){$(".side-panel-footer .order-note-toggle").click(function(){$(".order-note-toggle__content").toggleClass("hidden unhidden")})}),$(document).ready(function(){$(".mobile-view-back-btn-wrapper").click(function(){$(".mobile-menu .sub-menu .menu-item-has-children").removeClass("active")})}),$(document).on("click",".side-panel-footer .order-note-toggle",function(){$(".order-note-toggle__content").addClass("active")}),$(document).on("click",".order-note-toggle__content.active .button.full",function(){$(".order-note-toggle__content").removeClass("active")}),$(document).ready(function(){$(".menu-third-item .link-container").on("click",function(){$(".menu-third-item").removeClass("enable"),$(this).parent(".menu-third-item").addClass("enable")})});
//# sourceMappingURL=/cdn/shop/t/224/assets/custom.js.map?v=73248070304980488551713242751

window.popupCountdownFunction=function(e="countdownTimeShow",o="elDay",t="elHour",n="elMinute",s="elSecond"){const u=document.getElementById(e),i="string"==typeof window[e]&&window[e]||u.getAttribute("endtime")||(new Date).toISOString();let w=u.getAttribute("repeatvalue");function h(o){const t=(new Date).getTime()-o.countDownDate;let n;if(o.repeatValue>0){const e=o.repeatValue*o.oneMinute;if(o.repeatCount){const o=t%e;n=t<0&&t<e?-o:e-o}else n=t<e?-t>e?e:-t:-1}else n=-t;if(n<0||isNaN(n)){clearInterval(o.interval),o.running=!1;const t=window[e+"stop"];if(t&&t(),isNaN(n))return;n=0}else o.running||(o.running=!0);let s=Math.floor(n/o.oneDay),u=Math.floor(n%o.oneDay/o.oneHour),i=Math.floor(n%o.oneHour/o.oneMinute),w=Math.floor(n%o.oneMinute/o.oneSecond);switch(!0){default:case o.showDay&&o.showHour&&o.showMinute&&o.showSecond:case!(o.showDay||o.showHour||o.showMinute||o.showSecond):break;case o.showDay&&o.showHour&&o.showMinute&&!o.showSecond:i++;break;case o.showDay&&o.showHour&&!o.showMinute&&o.showSecond:w+=60*i;break;case o.showDay&&o.showHour&&!o.showMinute&&!o.showSecond:u++;break;case o.showDay&&!o.showHour&&o.showMinute&&o.showSecond:i+=60*u;break;case o.showDay&&!o.showHour&&o.showMinute&&!o.showSecond:i+=60*u+1;break;case o.showDay&&!o.showHour&&!o.showMinute&&o.showSecond:w+=60*u*60+60*i;break;case o.showDay&&!o.showHour&&!o.showMinute&&!o.showSecond:s++;break;case!o.showDay&&o.showHour&&o.showMinute&&o.showSecond:u+=24*s;break;case!o.showDay&&o.showHour&&o.showMinute&&!o.showSecond:u+=24*s,i++;break;case!o.showDay&&o.showHour&&!o.showMinute&&o.showSecond:u+=24*s,w+=60*i;break;case!o.showDay&&o.showHour&&!o.showMinute&&!o.showSecond:u+=24*s+1;break;case!o.showDay&&!o.showHour&&o.showMinute&&o.showSecond:i+=24*s*60+60*u;break;case!o.showDay&&!o.showHour&&o.showMinute&&!o.showSecond:i+=24*s*60+60*u+1;break;case!o.showDay&&!o.showHour&&!o.showMinute&&o.showSecond:w+=24*s*60*60+60*u*60+60*i}!function(o,{days:t,hours:n,minutes:s,seconds:u}){o.running?(n<10&&(n="0"+n),s<10&&(s="0"+s),u<10&&(u="0"+u)):(t="0",n="00",s="00",u="00");const i=window[e+"stop"];o.showDay&&(document.getElementById(o.idDay)?document.getElementById(o.idDay).innerHTML=t:i&&i(o)),o.showHour&&(document.getElementById(o.idHour)?document.getElementById(o.idHour).innerHTML=n:i&&i(o)),o.showMinute&&(document.getElementById(o.idMinute)?document.getElementById(o.idMinute).innerHTML=s:i&&i(o)),o.showSecond&&(document.getElementById(o.idSecond)?document.getElementById(o.idSecond).innerHTML=u:i&&i(o))}(o,{days:s,hours:u,minutes:i,seconds:w})}isNaN(1*w)?w=0:w*=1,function(e){const o=function({idDay:e,idHour:o,idMinute:t,idSecond:n,idTimeShow:s,endTime:u,showDay:i,showHour:w,showMinute:h,showSecond:a,repeatCount:r,timeoutHidden:d,repeatValue:c,running:y}){const l=36e5;return{interval:null,idDay:e,idHour:o,idMinute:t,idSecond:n,idTimeShow:s,countDownDate:new Date(u).getTime(),showDay:i,showHour:w,showMinute:h,showSecond:a,repeatCount:r,timeoutHidden:d,repeatValue:c,oneSecond:1e3,oneMinute:6e4,oneHour:l,oneDay:864e5,running:y}}(e);function t(){h(o)}setTimeout((()=>{o.interval=setInterval(t,o.oneSecond),t();const{showDay:n,showHour:s,showMinute:i,showSecond:w}=e;u.setAttribute("class",u.getAttribute("class")+(n?" d":"")+(s?" h":"")+(i?" m":"")+(w?" s":"")),["endtime","showday","showhour","showminute","showsecond","repeatcount","timeouthidden","repeatvalue"].forEach((e=>u.removeAttribute(e)))}),(new Date).getTime()%o.oneSecond),t()}({idDay:o,idHour:t,idMinute:n,idSecond:s,idTimeShow:e,endTime:i,showDay:"true"===u.getAttribute("showday"),showHour:"true"===u.getAttribute("showhour"),showMinute:"true"===u.getAttribute("showminute"),showSecond:"true"===u.getAttribute("showsecond"),repeatCount:"true"===u.getAttribute("repeatcount"),timeoutHidden:"true"===u.getAttribute("timeouthidden"),repeatValue:w})};
